<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script>
function showLiffErrorPopup(msg, err) {
  let popup = document.getElementById('liffErrorPopup');
  if (popup) popup.remove();
  popup = document.createElement('div');
  popup.id = 'liffErrorPopup';
  popup.style = 'position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.45);z-index:99999;display:flex;align-items:center;justify-content:center;';
  let detail = '';
  if (err) {
    detail = `<div style='color:#b71c1c;font-size:0.98em;margin-top:0.7em;word-break:break-all;'>${err.message || err.toString()}</div>`;
  }
  popup.innerHTML = `
    <div style="background:#fff;padding:2em 2.5em;border-radius:14px;box-shadow:0 2px 16px #d32f2f55;text-align:center;max-width:90vw;">
      <div style="font-size:1.25em;font-weight:700;color:#d32f2f;margin-bottom:1em;">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î LINE Login</div>
      <div style="color:#444;margin-bottom:1.5em;">${msg}</div>
      ${detail}
      <button onclick="document.getElementById('liffErrorPopup').remove()" style="background:#d32f2f;color:#fff;padding:0.7em 2em;border:none;border-radius:8px;font-size:1em;font-weight:600;cursor:pointer;">‡∏õ‡∏¥‡∏î</button>
    </div>
  `;
  document.body.appendChild(popup);
}

document.addEventListener('DOMContentLoaded', () => {
  // Removed LIFF initialization logic
});
  </script>
  <style>
    .input-icon-group { position: relative; }
    .input-icon-group input,
    .input-icon-group textarea {
      padding-left: 2.2em;
    }
    .input-icon {
      position: absolute;
      left: 0.7em;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.2em;
      color: #FFA726;
      pointer-events: none;
      display: flex;
      align-items: center;
      height: 100%;
    }
    textarea.input-icon { top: 1.7em; }
  </style>
</head>
<body>
  <header>
    <nav class="stepper">
      <div class="step"><span>1</span><div>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div></div>
      <div class="step active"><span>2</span><div>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</div></div>
      <div class="step"><span>3</span><div>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</div></div>
      <div class="step"><span>4</span><div>‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</div></div>
    </nav>
  </header>
  <main class="container">
    <h1>‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h1>
    <div id="lineProfileBox" style="display:none;margin-bottom:1.2em;text-align:center;"></div>
    <form id="customerForm" autocomplete="on">
      <div class="form-hint">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</div>
      <label class="input-label" for="nameInput">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <span style="color:red">*</span></label>
      <div class="input-icon-group">
        <span class="input-icon">
          <svg width="20" height="20" fill="none" stroke="#FFA726" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="10" cy="7" r="4"/><path d="M2 18c0-3.3 3.6-6 8-6s8 2.7 8 6"/></svg>
        </span>
        <input id="nameInput" type="text" name="name" required maxlength="50" autocomplete="name" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô">
      </div>
      <label class="input-label" for="phoneInput">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå <span style="color:red">*</span></label>
      <div class="input-icon-group">
        <span class="input-icon">
          <svg width="20" height="20" fill="none" stroke="#FFA726" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92V19a2 2 0 0 1-2.18 2A19.72 19.72 0 0 1 3 5.18 2 2 0 0 1 5 3h2.09a2 2 0 0 1 2 1.72c.13.81.36 1.6.7 2.34a2 2 0 0 1-.45 2.11l-.27.27a16 16 0 0 0 6.29 6.29l.27-.27a2 2 0 0 1 2.11-.45c.74.34 1.53.57 2.34.7A2 2 0 0 1 22 16.92z"/></svg>
        </span>
        <input id="phoneInput" type="tel" name="phone" required pattern="[0-9]{9,12}" maxlength="12" autocomplete="tel" placeholder="‡πÄ‡∏ä‡πà‡∏ô 0891234567">
      </div>
      <label class="input-label" for="addressInput">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏™‡πà‡∏á <span style="color:red">*</span></label>
      <div class="input-icon-group">
        <span class="input-icon">
          <svg width="20" height="20" fill="none" stroke="#FFA726" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9.5V19a1 1 0 0 0 1 1h4v-6h4v6h4a1 1 0 0 0 1-1V9.5"/><path d="M9.7 2.3a1 1 0 0 1 1.4 0l7.6 7.6a1 1 0 0 1-1.4 1.4L10 4.41 3.7 11.3a1 1 0 0 1-1.4-1.4z"/></svg>
        </span>
        <textarea id="addressInput" name="address" rows="3" required maxlength="120" autocomplete="street-address" placeholder="‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà ‡∏´‡∏°‡∏π‡πà/‡∏ã‡∏≠‡∏¢ ‡∏ñ‡∏ô‡∏ô ‡∏ï‡∏≥‡∏ö‡∏• ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î"></textarea>
      </div>
      <button type="button" id="getLocationBtn" class="btn-main" style="background:#FFA726;color:#fff;margin-top:0.7em;">üìç ‡πÉ‡∏ä‡πâ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</button>
      <div id="mapPreview" style="margin:0.7em 0 0.5em 0;"></div>
      <button type="submit" class="btn-main">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
    </form>
  </main>
  <script type="module" src="form.js"></script>
</body>
</html>